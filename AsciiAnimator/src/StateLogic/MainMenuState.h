//////////////////////////////////////////////////////////////////////////////////////////////////////////////
/// @file MainMenuState.h
/// @author Nicholas Witulski (nicwitulski@gmail.com)
/// @brief Main menu. Loads animation project or create new project
/// @version 0.1
/// @date 2025-06-27
///
/// @copyright Copyright (c) 2025
///
//////////////////////////////////////////////////////////////////////////////////////////////////////////////

#ifndef MAINMENUSTATE_H
#define MAINMENUSTATE_H

#include "AppState.h"
#include "../AppParameters/AppParameters.h"

//////////////////////////////////////////////////////////////////////////////////////////////////////////////
/// @class MainMenuState
///
/// Main menu state that handles project creation and loading
//////////////////////////////////////////////////////////////////////////////////////////////////////////////
class MainMenuState : public GameState
{
private:
   std::shared_ptr<UIElement>     mainMenu;
   std::shared_ptr<Button>        newAnimationButton;
   std::shared_ptr<Button>        loadAnimationButton;
   std::shared_ptr<Button>        quitButton;
   std::shared_ptr<Entity>        colorAttTest;
   std::shared_ptr<NcursesWindow> mainMenuWindow;

   ///////////////////////////////////////////////////////////////////////////////////////////////////////////
   /// @fn newAnimationFunction
   ///
   /// Function that gets executed when the newAnimationButton gets pressed
   ///////////////////////////////////////////////////////////////////////////////////////////////////////////
   void newAnimationFunction();

   ///////////////////////////////////////////////////////////////////////////////////////////////////////////
   /// @fn loadAnimationFunction
   ///
   /// Function that gets executed when the loadAnimationButton gets pressed
   ///////////////////////////////////////////////////////////////////////////////////////////////////////////
   void loadAnimationFunction();

   ///////////////////////////////////////////////////////////////////////////////////////////////////////////
   /// @fn quitFunction
   ///
   /// Function that gets executed when the quitButton gets pressed
   ///////////////////////////////////////////////////////////////////////////////////////////////////////////
   void quitFunction();

   States nextState = States::None;

public:
   void onEnter() override;
   void update() override;
   void onExit() override;

   GameState* getNextState() override;
};

#endif