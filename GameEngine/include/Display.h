//////////////////////////////////////////////////////////////////////////////////////////////////////////////
/// @file Display.h
/// @author Nicholas Witulski (nicwitulski@gmail.com)
/// @brief Handles all of the ncurses calls, prints, and refreshes
/// @version 0.1
/// @date 2025-06-27
///
/// @copyright Copyright (c) 2025
///
//////////////////////////////////////////////////////////////////////////////////////////////////////////////

#ifndef DISPLAY_H
#define DISPLAY_H

#include "Animation.h"
#include "Parameters.h"
#include "ncurses.h"
#include <algorithm>
#include <chrono>
#include <cstdlib>
#include <cstring>
#include <memory>
#include <mutex>
#include <unordered_map>
#include <vector>

//////////////////////////////////////////////////////////////////////////////////////////////////////////////
/// @class Display
///
/// Handles all of the ncurses calls, prints, and refreshes
//////////////////////////////////////////////////////////////////////////////////////////////////////////////
class Display
{
private:
public:
   ///////////////////////////////////////////////////////////////////////////////////////////////////////////
   /// @fn initCurse
   ///
   /// Initializes ncurses and all of its settings
   ///////////////////////////////////////////////////////////////////////////////////////////////////////////
   static void initCurse();

   ///////////////////////////////////////////////////////////////////////////////////////////////////////////
   /// @fn getUserInput
   ///
   /// @return the users input in an integer converted to a char
   ///////////////////////////////////////////////////////////////////////////////////////////////////////////
   static char getUserInput();

   ///////////////////////////////////////////////////////////////////////////////////////////////////////////
   /// @fn closeCurseWindow
   ///
   /// Shuts down ncureses safely
   ///////////////////////////////////////////////////////////////////////////////////////////////////////////
   static void closeCurseWindow();

   ///////////////////////////////////////////////////////////////////////////////////////////////////////////
   /// @fn refreshDisplay
   ///
   /// Refreshes the display and handles terminal size changes
   ///
   /// @param deltaTime - gameEngine refresh time difference used for animation updates
   ///////////////////////////////////////////////////////////////////////////////////////////////////////////
   static void refreshDisplay(float deltaTime);

   ///////////////////////////////////////////////////////////////////////////////////////////////////////////
   /// @fn removeWindow
   ///
   /// Removes a window from the display
   ///
   /// @param window - the window to remove
   ///////////////////////////////////////////////////////////////////////////////////////////////////////////
   static void removeWindow(std::shared_ptr<NcursesWindow> window);
};

#endif